{% extends 'base.html' %}
{% load static %}

{% block title %}{{ object.name }}{% endblock %}

{% block content %}
<div class="jumbotron">
    <h1>{{ object.name }}</h1>

    <h4>Creations</h4>

    <table class="table module-table dt-responsive" id="module-table" width="100%">
        <thead>
            <tr>
                <th data-priority="1" width="1px" data-orderable="false">Icon</th>
                <th data-priority="11000">Module</th>
                <th data-priority="2" data-orderable="false">Attributes</th>
            </tr>
        </thead>
        <tbody>
            {% for m in modules %}
            <tr class="item">
                <td><a href="{% url 'abyssal_modules:module_view' m.id %}"><img src="https://image.eveonline.com/Type/{{ m.type.id }}_32.png"></a></td>
                <td><a href="{% url 'abyssal_modules:type_module_list' m.type.id %}">{{ m.type.name }}</a></td>
                <td>
                    <div class="row">
                        {% for a in m.attribute_list %}
                        <div class="col-12 col-md-4">
                            <img src="{% static a.attribute.icon_path %}" title="{{ a.attribute.name }}">
                            {{ a.real_value|floatformat }} {{ a.attribute.unit_str }}
                        </div>
                        {% endfor %}
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

{% block trailing_js %}
<script>
$(document).ready(function () {
    $('#module-table').DataTable({
        "order": []
    });
});
</script>
{% endblock %}
