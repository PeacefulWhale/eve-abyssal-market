{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
    {% for at in attributes %}
    .attr-{{ at.id }}:after {
        content: " {{ at.unit_str }}";
    }
    {% endfor %}
</style>

<div class="jumbotron">
    <h1>{{ module_type.name }}</h1>

    <table class="table module-table" id="module-table">
        <thead>
            <tr>
                <th>Icon</th>
                <th>ID</th>
                {% for at in attributes %}
                <th width="80px"><img src="{% static at.icon_path %}" title="{{ at.name }}"></th>
                {% endfor %}
                <th>Creator</th>
            </tr>
        </thead>
        <tbody>
            {% for m in modules %}
            <tr>
                <td><img src="https://image.eveonline.com/Type/{{ m.type.id }}_32.png"></td>
                <td>{{ m.id}}</td>
                {% for a in m.attribute_list %}
                <td class="attr-{{ a.attribute.id }}">
                    {{ a.real_value|floatformat }}
                </td>
                {% endfor %}
                <td>{{ m.creator_id }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

{% block trailing_js %}
<script>
    $(document).ready(function () {
        $('#module-table').DataTable({
            "columnDefs": [
                { "orderable": false, "targets": 0 }
            ],
            "order": [[1, "asc"]]
        });
    });
</script>
{% endblock %}
